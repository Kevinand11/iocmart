(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{110:function(t,e,r){"use strict";r.r(e);var o=r(1);function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var a={name:"ProductForm",data:function(){return{form:new Form({name:"",price:null,description:"",discount:0,quantity:1,category_id:null}),categories:[],submitted:!1,disabled:!1}},methods:{addPost:function(){var t=this;this.disabled=!0,this.submitted=!0,this.$Progress.start(),this.form.post(this.getRoutes.posts.base).then((function(e){t.disabled=!1,t.$Progress.finish(),new toast({type:"success",title:"Product created successfully!"}),t.$router.push("/products/"+e.data.data.id)})).catch((function(){t.disabled=!1,t.$Progress.fail(),new toast({type:"error",title:"Error creating product!"})}))},fetchCategories:function(){var t=this;axios.get(this.getRoutes.categories.parents).then((function(e){t.categories=e.data})).catch((function(){new toast({type:"error",title:"Error fetching categories"})}))}},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(r,!0).forEach((function(e){i(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Object(o.c)(["getRoutes"]),{isDisabled:function(){return this.disabled},isSubmitted:function(){return this.submitted},isEmpty:function(){return!(this.form.name&&this.form.price&&this.form.discount&&this.form.quantity)}}),mounted:function(){this.fetchCategories()}},n=r(0),c={name:"ProductNew",components:{new:Object(n.a)(a,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h1",{staticClass:"text-center display-4"},[t._v("Add New Product")]),t._v(" "),r("form",{staticClass:"container",attrs:{autocomplete:"on"}},[r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"title"}},[t._v("Title")]),t._v(" "),r("div",{staticClass:"col-md-8"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",class:{"is-valid":!t.form.errors.has("name")&&t.isSubmitted,"is-invalid":t.form.errors.has("name")},attrs:{id:"title",type:"text",name:"title",autofocus:"",placeholder:"Product Title"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),r("has-error",{attrs:{form:t.form,field:"name"}})],1)]),t._v(" "),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"price"}},[t._v("Price")]),t._v(" "),r("div",{staticClass:"col-md-8"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.price,expression:"form.price"}],staticClass:"form-control",class:{"is-valid":!t.form.errors.has("price")&&t.isSubmitted,"is-invalid":t.form.errors.has("price")},attrs:{id:"price",type:"number",name:"price",min:"0",autofocus:"",placeholder:"Price of Product in Naira"},domProps:{value:t.form.price},on:{input:function(e){e.target.composing||t.$set(t.form,"price",e.target.value)}}}),t._v(" "),r("has-error",{attrs:{form:t.form,field:"price"}})],1)]),t._v(" "),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"description"}},[t._v("Description")]),t._v(" "),r("div",{staticClass:"col-md-8"},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.description,expression:"form.description"}],staticClass:"form-control",class:{"is-valid":!t.form.errors.has("description")&&t.isSubmitted,"is-invalid":t.form.errors.has("description")},attrs:{id:"description",name:"description",autofocus:"",placeholder:"Tell us a little about what you are selling"},domProps:{value:t.form.description},on:{input:function(e){e.target.composing||t.$set(t.form,"description",e.target.value)}}}),t._v(" "),r("has-error",{attrs:{form:t.form,field:"description"}})],1)]),t._v(" "),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"description"}},[t._v("Category")]),t._v(" "),r("div",{staticClass:"col-md-8"},[r("select",{directives:[{name:"model",rawName:"v-model",value:t.form.category_id,expression:"form.category_id"}],staticClass:"form-control",class:{"is-valid":!t.form.errors.has("category_id")&&t.isSubmitted,"is-invalid":t.form.errors.has("category_id")},attrs:{id:"category",name:"category"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"category_id",e.target.multiple?r:r[0])}}},[r("option",{attrs:{disabled:""},domProps:{value:null}},[t._v("Select category")]),t._v(" "),t._l(t.categories,(function(e){return r("optgroup",{key:e.id,attrs:{label:e.name}},t._l(e.subs,(function(e){return r("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])})),0)}))],2),t._v(" "),r("has-error",{attrs:{form:t.form,field:"category_id"}})],1)]),t._v(" "),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"discount"}},[t._v("Discount")]),t._v(" "),r("div",{staticClass:"col-md-8 input-group"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.discount,expression:"form.discount"}],staticClass:"form-control",class:{"is-valid":!t.form.errors.has("discount")&&t.isSubmitted,"is-invalid":t.form.errors.has("discount")},attrs:{id:"discount",type:"number",name:"discount",max:"100",min:"0",autofocus:"",placeholder:"Any ongoing discounts?"},domProps:{value:t.form.discount},on:{input:function(e){e.target.composing||t.$set(t.form,"discount",e.target.value)}}}),t._v(" "),t._m(0),t._v(" "),r("has-error",{attrs:{form:t.form,field:"discount"}})],1)]),t._v(" "),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"discount"}},[t._v("Quantity")]),t._v(" "),r("div",{staticClass:"col-md-8"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.quantity,expression:"form.quantity"}],staticClass:"form-control",class:{"is-valid":!t.form.errors.has("quantity")&&t.isSubmitted,"is-invalid":t.form.errors.has("quantity")},attrs:{id:"quantity",type:"number",name:"quantity",min:"0",autofocus:"",placeholder:"Quantity available"},domProps:{value:t.form.quantity},on:{input:function(e){e.target.composing||t.$set(t.form,"quantity",e.target.value)}}}),t._v(" "),r("has-error",{attrs:{form:t.form,field:"quantity"}})],1)]),t._v(" "),r("div",{staticClass:"form-group row"},[r("div",{staticClass:"col-md-8 offset-md-4"},[r("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:t.isDisabled||t.isEmpty},on:{click:function(e){return e.preventDefault(),t.addPost(e)}}},[t.isDisabled?r("i",{staticClass:"fas fa-spinner fa-spin"}):r("span",[t._v("Add")])])])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-append"},[e("span",{staticClass:"input-group-text"},[this._v("%")])])}],!1,null,"468ea227",null).exports}},l=Object(n.a)(c,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("new")],1)}),[],!1,null,"bf34dab4",null);e.default=l.exports}}]);