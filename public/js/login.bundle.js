(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{105:function(e,t,r){"use strict";r.r(t);var s=r(1);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(r,!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var n={name:"LoginForm",data:function(){return{form:new Form({email:"",password:""}),rememberMe:!0,submitted:!1,disabled:!1}},methods:a({},Object(s.b)(["setAuth","setToken","clearIntended"]),{loginUser:function(){var e=this;this.disabled=!0,this.submitted=!0,this.$Progress.start(1e4),this.form.post(this.getRoutes.auth.login).then((function(t){e.setToken({token:t.data.data,remember:e.rememberMe}),axios.get(e.getRoutes.auth.profile).then((function(t){e.setAuth({user:t.data.data,remember:e.rememberMe}),e.disabled=!1,e.$Progress.finish(),new toast({type:"success",title:"Logged In successfully"}),e.$router.push(e.getIntended),e.clearIntended()})).catch((function(){e.disabled=!1,e.$Progress.fail(),new toast({type:"error",title:"Error fetching profile"})}))})).catch((function(){e.disabled=!1,e.$Progress.fail(),new toast({type:"error",title:"Error logging in user"})}))}}),computed:a({},Object(s.c)(["getRoutes","getIntended"]),{isDisabled:function(){return this.disabled},isSubmitted:function(){return this.submitted},isEmpty:function(){return!(this.form.email&&this.form.password)}})},l=r(0),m={name:"Login",components:{login:Object(l.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",{staticClass:"text-center display-4"},[e._v("Login")]),e._v(" "),r("form",{staticClass:"container",attrs:{autocomplete:"on"}},[r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"name"}},[e._v("Email")]),e._v(" "),r("div",{staticClass:"col-md-8"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.email,expression:"form.email"}],staticClass:"form-control",class:{"is-valid":!e.form.errors.has("email")&&e.isSubmitted,"is-invalid":e.form.errors.has("email")},attrs:{id:"email",type:"email",name:"email",autofocus:"",placeholder:"Your registered email address"},domProps:{value:e.form.email},on:{input:function(t){t.target.composing||e.$set(e.form,"email",t.target.value)}}}),e._v(" "),r("has-error",{attrs:{form:e.form,field:"email"}})],1)]),e._v(" "),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"password"}},[e._v("Password")]),e._v(" "),r("div",{staticClass:"col-md-8"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],staticClass:"form-control",class:{"is-valid":!e.form.errors.has("password")&&e.isSubmitted,"is-invalid":e.form.errors.has("password")},attrs:{id:"password",type:"password",name:"password",autofocus:"",placeholder:"Your associated password"},domProps:{value:e.form.password},on:{input:function(t){t.target.composing||e.$set(e.form,"password",t.target.value)}}}),e._v(" "),r("has-error",{attrs:{form:e.form,field:"password"}})],1)]),e._v(" "),r("div",{staticClass:"form-group row"},[r("div",{staticClass:"col-md-8 offset-md-4"},[r("div",{staticClass:"form-check"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.rememberMe,expression:"rememberMe"}],staticClass:"form-check-input",attrs:{type:"checkbox",name:"remember",id:"remember"},domProps:{checked:Array.isArray(e.rememberMe)?e._i(e.rememberMe,null)>-1:e.rememberMe},on:{change:function(t){var r=e.rememberMe,s=t.target,o=!!s.checked;if(Array.isArray(r)){var a=e._i(r,null);s.checked?a<0&&(e.rememberMe=r.concat([null])):a>-1&&(e.rememberMe=r.slice(0,a).concat(r.slice(a+1)))}else e.rememberMe=o}}}),e._v(" "),r("label",{staticClass:"form-check-label",attrs:{for:"remember"}},[e._v("Remember Me?")])])])]),e._v(" "),r("div",{staticClass:"form-group row"},[r("div",{staticClass:"col-md-8 offset-md-4"},[r("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:e.isDisabled||e.isEmpty},on:{click:function(t){return t.preventDefault(),e.loginUser(t)}}},[e.isDisabled?r("i",{staticClass:"fas fa-spinner fa-spin"}):r("span",[e._v("Login")])])])]),e._v(" "),r("div",{staticClass:"form-group row"},[r("div",{staticClass:"col-md-8 offset-md-4"},[r("p",[e._v("Dont have an account?"),r("router-link",{attrs:{to:"/register"}},[e._v("Proceed to Register")])],1)])])])])}),[],!1,null,"dc7775f8",null).exports}},c=Object(l.a)(m,(function(){var e=this.$createElement;return(this._self._c||e)("login")}),[],!1,null,"0386d016",null);t.default=c.exports}}]);