(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{110:function(t,e,s){"use strict";s.r(e);var n=s(1);function i(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function r(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?i(s,!0).forEach((function(e){o(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):i(s).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function o(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var a={name:"SingleProduct",data:function(){return{id:null,post:{},orderCount:1}},methods:r({},Object(n.b)(["addToCart","removeFromCart","setIntended","changeQuantity"]),{fetchPost:function(){var t=this;return axios.get(this.getRoutes.posts.base+this.id).then((function(e){t.post=e.data.data})).catch((function(){new toast({type:"error",title:"Error fetching post!"})}))},reduceCount:function(){this.orderCount>1&&this.orderCount--},increaseCount:function(){this.orderCount<this.post.quantity&&this.orderCount++},makeOrder:function(){var t=this;if(!this.isLoggedIn)return this.setIntended(this.$route.fullPath),this.$router.push("/login"),new toast({type:"warning",title:"Login to continue"});this.isInCart(this.post.id)?this.changeQuantity(this.post.id,this.orderCount):this.addToCart({post_id:this.post.id,quantity:this.orderCount}).then((function(){return t.post.is_ordered_by=!0}))},deleteOrder:function(){var t=this;if(!this.isLoggedIn)return this.setIntended(this.$route.fullPath),this.$router.push("/login"),new toast({type:"warning",title:"Login to continue"});this.removeFromCart(this.post.id).then((function(){t.orderCount=1,t.post.is_ordered_by=!1}))}}),computed:r({},Object(n.c)(["getRoutes","isInCart","getOrderFromPostId","isLoggedIn","getSymbol"]),{hasImage:function(){return this.post.pictures&&this.post.pictures.length>0},hasImages:function(){return this.post.pictures&&this.post.pictures.length>1},getFeaturedImage:function(){return this.post.pictures[0].uri},shouldDisable:function(){return this.post.is_ordered_by&&this.orderCount===this.getOrderFromPostId(this.post.id).quantity},hasFetchedPost:function(){return Object.keys(this.post).length>0}}),mounted:function(){var t=this;this.id=this.$route.params.id,this.fetchPost().then((function(){var e=t.getOrderFromPostId(t.post.id);t.orderCount=e&&e.quantity?e.quantity:1}))}},u=s(0),c={name:"ProductSingle",components:{single:Object(u.a)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.hasFetchedPost?s("div",{staticClass:"row"},[t.hasImage?s("div",{staticClass:"col-md-4"},[s("img",{staticClass:"w-100",attrs:{src:t.getFeaturedImage,alt:""}}),t._v(" "),t.hasImages?s("div",{staticClass:"row"},t._l(t.post.pictures,(function(t){return s("div",{key:t.id,staticClass:"col-3"},[s("img",{staticClass:"w-100",attrs:{src:t.uri,alt:""}})])})),0):t._e()]):t._e(),t._v(" "),s("div",{staticClass:"col-md-8"},[s("h3",[t._v(t._s(t.post.name))]),t._v(" "),s("hr"),t._v(" "),s("h5",[s("span",{domProps:{innerHTML:t._s(t.getSymbol)}}),t._v(t._s(t._f("discount")(t.post.price,t.post.discount))+" "),t.post.discount?s("span",[s("span",{domProps:{innerHTML:t._s(t.getSymbol)}}),t._v(t._s(t._f("discount")(t.post.price)))]):t._e()]),t._v(" "),s("h5",[t._v("Available in stock: "+t._s(t.post.quantity))]),t._v(" "),s("h5",[t._v("Category: "+t._s(t.post.category?t.post.category.name:null))]),t._v(" "),s("h5",[t._v(t._s(t.post.description))]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"d-flex justify-content-between"},[s("div",{staticClass:"d-flex align-items-center"},[s("button",{staticClass:"btn btn-info mr-2",attrs:{disabled:t.orderCount<2},on:{click:t.reduceCount}},[t._v("-")]),t._v(" "),s("span",[t._v(t._s(t.orderCount))]),t._v(" "),s("button",{staticClass:"btn btn-info ml-2",attrs:{disabled:t.orderCount>=t.post.quantity},on:{click:t.increaseCount}},[t._v("+")])]),t._v(" "),s("div",{staticClass:"d-flex align-items-center"},[s("button",{staticClass:"btn btn-info mr-2",attrs:{disabled:t.shouldDisable},on:{click:t.makeOrder}},[t._v(t._s(t.post.is_ordered_by?"Change Quantity":"Add To Cart")+" "),s("i",{staticClass:"fas fa-shopping-basket d-none d-sm-inline"})]),t._v(" "),t.post.is_ordered_by?s("button",{staticClass:"btn btn-outline-danger btn-sm",on:{click:t.deleteOrder}},[t._v("Remove "),s("i",{staticClass:"fas fa-trash d-none d-sm-inline"})]):t._e()])])])]):t._e()}),[],!1,null,"13de18f0",null).exports}},d=Object(u.a)(c,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("single")],1)}),[],!1,null,"246b9afe",null);e.default=d.exports}}]);